<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Game</title>
  <link rel="stylesheet" href="res/main.css">
</head>
<body>
 <div id="console" style="background: black; color: white; padding: 10px; font-family: monospace;"></div>
<script>
  const logError = (type, message, source, lineno, colno, error) => {
    const consoleDiv = document.getElementById("console");
    const errorDetails = `
      <div style="color: red;">
        <b>[${type}]</b> ${message}<br>
        <b>Source:</b> ${source || "Unknown"}<br>
        <b>Line:</b> ${lineno || "N/A"}, Column: ${colno || "N/A"}<br>
        <b>Stack:</b><br>${error && error.stack ? error.stack.replace(/\n/g, "<br>") : "No stack trace available."}
      </div>
    `;
    consoleDiv.innerHTML += errorDetails;
  };

  // Global error capture
  window.onerror = (message, source, lineno, colno, error) => {
    logError("Global Error", message, source, lineno, colno, error);
  };

  // Unhandled Promise rejection capture
  window.onunhandledrejection = (event) => {
    logError("Unhandled Promise Rejection", event.reason.message, null, null, null, event.reason);
  };

  // Test global error
  setTimeout(() => {
    nonexistentFunction();
  }, 1000);

  // Test promise rejection
  setTimeout(() => {
    Promise.reject(new Error("Simulated Promise rejection error"));
  }, 2000);

  // Test caught error
  setTimeout(() => {
    try {
      throw new Error("Caught error in try-catch");
    } catch (err) {
      logError("Caught Error", err.message, null, null, null, err);
    }
  }, 3000);
</script>

 

  <div id="board">
    <canvas width="640" height="480"></canvas>
  </div>
    <script src="lib/keyboardControls.js"></script>
  <script type="module" src="src/main.js"></script>
  <div id="console"></div>
</body>
  
</html>
